{% extends "layout.html" %}
{% block content %}

    <!-- 
        - #HERO
    -->

    <section class="hero" id="home">
        <div class="container">

            <h2 class="h1 hero-title">Welcome {{ current_user.username }}</h2>

        </div>
    </section>

    <!-- USER DETAILS  -->

    <section class="popular" id="popular">
        <div class="container">

          <ul style="justify-content: center; " class="popular-list">

            <li>
              <div class="popular-card">

                <figure class="card-img">
                  <img src="{{ image_file }}" alt="Profile Pic" loading="lazy">
                </figure>

                <div class="card-content">

                  <p class="card-subtitle">
                    Remote Volunteer
                  </p>

                  <h3 class="h3 card-title">
                    <a href="#">{{ current_user.username }}</a>
                  </h3>

                  <p class="card-text">
                    EMAIL: {{ current_user.email }}
                  </p>

                </div>

              </div>
            </li>
          </ul>
        </div>
        <section class="tour-search">
          <div class="container">

            <!-- UPDATE USER DETAILS  -->
      
              <form method="POST" action="" enctype="multipart/form-data" class="tour-search-form container">
              <!-- enctype="multipart/form-data" helps in tranfering image to flask function  -->
              <!-- adds cross side request forgery token (CSRF) to keep our site secure  -->
              {{ form.hidden_tag() }}

              <h3 class="h3 card-title">Update Account Info</h3>
              
              <div class="input-wrapper">
                  {{form.username.label(class="input-label")}}
                  {{form.username(class="input-field")}}
                  <!-- if errors occur  -->
                  {% if form.username.errors %}
                    {% for error in form.username.errors %}
                      <span>{{ error }}</span>
                      <br>
                    {% endfor %}
                  {% endif %}
              </div>
              <div class="input-wrapper">
                {{form.email.label(class="input-label")}}
                {{form.email(class="input-field")}}
                <!-- if errors occur  -->
                {% if form.email.errors %}
                    {% for error in form.email.errors %}
                      <span>{{ error }}</span>
                      <br>
                    {% endfor %}
                  {% endif %}
            </div>
            <div class="input-wrapper">
              {{form.UserPicture.label(class="input-label")}}
              {{form.UserPicture(class="input-field")}}
              {% if form.UserPicture.errors %}
              <!-- if errors occur  -->
                {% for error in form.UserPicture.errors %}
                  <span>{{ error }}</span>
                  <br>
                {% endfor %}
              {% endif %}
            </div>
      
              <!-- <button type="submit" class="btn btn-secondary">Inquire now</button> -->
              {{ form.submit(class="btn btn-secondary")}}
              
              </form>
          </div>
          </section>
    </section>
{% endblock content %}